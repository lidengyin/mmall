webpackJsonp([19],{"LdA+":function(t,e){},vDJ2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),o=n.n(a),r=n("D2Ra"),s=n("NYxO"),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};function c(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(o,r){try{var s=e[o](r),i=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(i).then(function(t){a("next",t)},function(t){a("throw",t)});t(i)}("next")})}}var u={data:function(){return{loading:!1,Goods:[],goods:[],types:[],Status:{1:"在售",2:"下架",3:"删除"},productName:"",categoryId:"",orderBy:"",pageSize:12,pageNum:1}},computed:i({},Object(s.c)([])),created:function(){this.reqGood(this.pageNum)},mounted:function(){this.choiceMenuId("goodList"),this.changePathNames([{name:"商品管理"},{name:"商品列表",path:"goodList"}])},methods:i({},Object(s.b)(["choiceMenuId","saveGood","changePathNames"]),{handleSizeChange:function(t){this.reqGood(t)},handleCurrentChange:function(t){this.reqGood(t)},reqGood:function(t){var e=this;return c(o.a.mark(function n(){var a,s,i;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.loading=!0,e.pageNum=t,a=e.pageSize,!(s=e.pageNum)||!a){n.next=8;break}return n.next=6,Object(r.q)({pageNum:s,pageSize:a});case 6:0==(i=n.sent).status?(e.loading=!1,e.Goods=i.data,e.goods=e.Goods.list):(e.loading=!1,e.message(i.msg,1500,"error"));case 8:case"end":return n.stop()}},n,e)}))()},searchList:function(t){var e=this;return c(o.a.mark(function n(){var a,s,i,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.loading=!0,e.pageNum=t,a=e.productName,s=e.pageSize,!(i=e.pageNum)||!s){n.next=14;break}if(!a){n.next=10;break}return n.next=7,Object(r.F)({pageNum:i,pageSize:s,productName:a});case 7:c=n.sent,n.next=13;break;case 10:return n.next=12,Object(r.q)({pageNum:i,pageSize:s});case 12:c=n.sent;case 13:0==c.status?(e.loading=!1,e.Goods=c.data,e.goods=e.Goods.list,console.log(e.goods)):(e.loading=!1,e.message(c.msg,1500,"error"));case 14:case"end":return n.stop()}},n,e)}))()},toDetail:function(t){this.$router.push({name:"goodDetail",query:{id:JSON.stringify(t.id)}})},downGood:function(t){var e=this;this.$confirm("确定下架改商品吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(c(o.a.mark(function n(){var a,s;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(a=new FormData).append("productId",t.id),a.append("status",2),n.next=5,Object(r.R)(a);case 5:0==(s=n.sent).status?e.reqGood(e.pageNum):e.message(s.msg,1500,"error");case 7:case"end":return n.stop()}},n,e)})))},upGood:function(t){var e=this;this.$confirm("确定重新上架该商品吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(c(o.a.mark(function n(){var a,s;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(a=new FormData).append("productId",t.id),a.append("status",1),n.next=5,Object(r.R)(a);case 5:0==(s=n.sent).status?e.reqGood(e.pageNum):e.message(s.msg,1500,"error");case 7:case"end":return n.stop()}},n,e)})))},seleteGood:function(t){var e=this;this.$confirm("确定删除改商品吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(c(o.a.mark(function n(){var a,s;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(a=new FormData).append("productId",t.id),a.append("status",3),n.next=5,Object(r.R)(a);case 5:0==(s=n.sent).status?e.reqGood(e.pageNum):e.message(s.msg,1500,"error");case 7:case"end":return n.stop()}},n,e)})))},message:function(t,e,n){this.$message({message:t,duration:e,type:n})}})},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goodList"},[n("div",{staticClass:"goodListDiv"},[n("div",{staticClass:"lis"},[n("div",{staticClass:"condition"},[n("span",{staticClass:"out"},[n("span",{staticClass:"inner noSee"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入商品名"},model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(){return t.searchList(1)}},slot:"append"})],1)],1),t._v("\n          查询结果列表：\n        ")])]),t._v(" "),n("el-table",{directives:[{name:"show",rawName:"v-show",value:t.Goods,expression:"Goods"}],staticStyle:{width:"100%"},attrs:{data:t.goods,stripe:"",border:""}},[n("el-table-column",{attrs:{prop:"name",label:"商品名","min-width":"250"}}),t._v(" "),n("el-table-column",{attrs:{prop:"subtitle",label:"简介","min-width":"250"}}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"单价","min-width":"80"}}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"库存","min-width":"80"}}),t._v(" "),n("el-table-column",{attrs:{label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.Status[e.row.status])+"\n          ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"goodButton",attrs:{type:"text"},on:{click:function(n){return t.toDetail(e.row)}}},[t._v("商品详情")]),t._v(" "),1==e.row.status?n("el-button",{staticClass:"goodButton",attrs:{type:"text"},on:{click:function(n){return t.downGood(e.row)}}},[t._v("下架")]):t._e(),t._v(" "),2==e.row.status?n("el-button",{staticClass:"goodButton",attrs:{type:"text"},on:{click:function(n){return t.upGood(e.row)}}},[t._v("上架")]):t._e(),t._v(" "),3!=e.row.status?n("el-button",{staticClass:"goodButton",staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(n){return t.seleteGood(e.row)}}},[t._v("删除")]):t._e()]}}])})],1)],1),t._v(" "),n("div",{staticClass:"pc"},[n("el-pagination",{attrs:{"current-page":t.pageNum,"page-size":t.pageSize,layout:"total, prev, pager, next, jumper",total:t.Goods.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),n("div",{staticClass:"mobile"},[n("el-pagination",{attrs:{"current-page":t.pageNum,"page-size":t.pageSize,layout:"prev, pager, next",total:t.Goods.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])},staticRenderFns:[]};var l=n("VU/8")(u,d,!1,function(t){n("LdA+")},null,null);e.default=l.exports}});